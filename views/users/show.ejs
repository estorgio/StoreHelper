<% include ../partials/header %>

<div class="container">
    <div class="row">
        <div class="col-md-12">
            <% if (flashError && flashError.length > 0) { %>
            <div class="alert alert-danger fade in" role="alert">
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <%= flashError %>
            </div>
            <% } %>
            <% if (flashSuccess && flashSuccess.length > 0) { %>
            <div class="alert alert-success fade in" role="alert">
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <%= flashSuccess %>
            </div>
            <% } %>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <h1><i class="fa fa-info-circle" aria-hidden="true"></i> Account Info</h1>
            <hr>
        </div>
    </div>
    <div class="row">
        <div class="col-md-5">
            <div class="action-buttons">
                <a href="/users/<%= user._id %>/edit" class="btn btn-primary">
                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                    Edit account
                </a>
                <form action="/users/<%= user.id %>/<%= user.enabled ? 'disable' : 'enable' %>" method="post">
                    <button class="btn <%= user.enabled ? 'btn-warning' : 'btn-success' %>">
                        <i class="fa fa-<%= user.enabled ? 'lock' : 'unlock' %>" aria-hidden="true"></i>
                        <%= user.enabled ? 'Disable account' : 'Enable account' %>
                    </button>
                </form>
                <form action="/users/<%= user.id %>/?_method=DELETE" method="post">
                    <button class="btn btn-danger">
                        <i class="fa fa-trash" aria-hidden="true"></i>
                        Delete account
                    </button>
                </form>

            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-5">
            <form action="/users" method="post">
                <div class="form-group">
                    <label for="firstname">First Name</label>
                    <input type="text" name="user[firstname]" id="firstname" class="form-control" value="<%= user.firstname %>" disabled>
                </div>
                <div class="form-group">
                    <label for="lastname">Last Name</label>
                    <input type="text" name="user[lastname]" id="lastname" class="form-control" value="<%= user.lastname %>" disabled>
                </div>
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" name="user[username]" id="username" class="form-control" value="<%= user.username %>" disabled>
                </div>
                <div class="form-group">
                    <label for="accountType">Account Type</label>
                    <select name="user[type]" id="accountType" class="form-control" disabled>
                        <option value="unspecified" <%= user.type === 'cashier' ? 'selected' : '' %>>Select account type</option>
                        <option value="cashier" <%= user.type === 'cashier' ? 'selected' : '' %>>Cashier</option>
                        <option value="manager" <%= user.type === 'cashier' ? 'selected' : '' %>>Manager</option>
                        <option value="admin" <%= user.type === 'cashier' ? 'selected' : '' %>>Administrator</option>
                    </select>
                </div>
                <!--<button type="submit" class="btn btn-primary">Save</button>-->
                <a href="/users" class="btn btn-default"><i class="fa fa-angle-double-left" aria-hidden="true"></i> Back</a>
            </form>
        </div>
    </div>

</div>

<% include ../partials/footer %>